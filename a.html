<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViewSync YouTube</title>

    <!-- âœ… YouTube Iframe API -->
    <script src="https://www.youtube.com/iframe_api"></script>

    <!-- âœ… Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>
</head>
<body>
    <h2>ViewSync YouTube</h2>
    <div id="player"></div>

    <!-- âœ… à¤¸à¤¹à¥€ YouTube Embed à¤²à¤¿à¤‚à¤• -->
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>
    <iframe width="300" height="300" src="https://www.youtube.com/embed/H7K878auNgg" frameborder="0" allowfullscreen></iframe>

    <script>
        // ðŸ”¥ Firebase Configuration (à¤…à¤ªà¤¨à¤¾ Firebase Config à¤¯à¤¹à¤¾à¤ à¤¡à¤¾à¤²à¥‹)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player("player", {
                height: "390",
                width: "640",
                videoId: "H7K878auNgg",  // âœ… à¤¸à¤¹à¥€ YouTube à¤µà¥€à¤¡à¤¿à¤¯à¥‹ ID
                playerVars: { "autoplay": 1, "controls": 1 },
                events: {
                    "onStateChange": syncVideo
                }
            });

            // âœ… Firebase à¤¸à¥‡ Data Listen à¤•à¤°à¥‡à¤‚ (Real-time Sync)
            db.ref("videoSync").on("value", snapshot => {
                const data = snapshot.val();
                if (data) {
                    const currentTime = player.getCurrentTime();
                    if (Math.abs(data.time - currentTime) > 1) {
                        player.seekTo(data.time, true);
                    }
                    if (data.state === 1) player.playVideo();
                    if (data.state === 2) player.pauseVideo();
                }
            });
        }

        function syncVideo(event) {
            if (event.data === YT.PlayerState.PLAYING || event.data === YT.PlayerState.PAUSED) {
                db.ref("videoSync").set({
                    time: player.getCurrentTime(),
                    state: event.data
                });
            }
        }
    </script>
</body>
</html>
